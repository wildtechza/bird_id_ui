(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94909,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),!function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(l,{default:function(){return o},getImageProps:function(){return i}});let s=e.r(55682),a=e.r(8927),n=e.r(5500),r=s._(e.r(1948));function i(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:r.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,l]of Object.entries(t))void 0===l&&delete t[e];return{props:t}}let o=n.Image},57688,(e,t,l)=>{t.exports=e.r(94909)},18566,(e,t,l)=>{t.exports=e.r(76562)},93232,e=>{"use strict";e.s(["default",()=>c],93232);var t=e.i(43476),l=e.i(18566),s=e.i(78373),a=e.i(71645),n=e.i(57688);function r(e){let{birds:l,currentQuestion:s,onMultipleChoiceChange:n}=e,r=(0,a.useId)(),[i,o]=(0,a.useState)([]),[u,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{c(null);let e=[],t=l.find(e=>String(e.sabap2)===String(s.answer));for(t&&e.push(t);e.length<5;){let t=Math.floor(Math.random()*l.length),s=l[t];e.find(e=>e.sabap2===s.sabap2)||e.push(s)}e.sort(()=>Math.random()-.5),o(e)},[l,s]),(0,t.jsx)("div",{className:"space-y-2",children:i.map(e=>(0,t.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:r,value:e.sabap2,checked:(null==u?void 0:u.sabap2)==e.sabap2,onChange:()=>{c(e),n(e.sabap2)},className:"form-radio text-blue-600"}),(0,t.jsx)("span",{children:e.fullName})]},e.sabap2))})}let i=["Eggcellent! ðŸ¥š","Tweet-tastic! ðŸ¦","Flaptastic! ðŸª½","Peck-perfection! ðŸ½ï¸","Owl you need is this correct! ðŸ¦‰","Flock yeah! ðŸ¥","Beak-ause youâ€™re right! ðŸ¤","Wing it to win it! ðŸª½","Perch-fect! ðŸª¶"],o=["Fowl play! ðŸ“","Not your peck! ðŸ¦","Eggstra wrong! ðŸ¥š","Feather not! ðŸª¶","Bird-ened with mistakes! ðŸ¥","Owl be honestâ€¦ wrong. ðŸ¦‰","Cluck up! ðŸ”","Youâ€™ve flown off track! ðŸ•Šï¸","Nest so goodâ€¦ try again! ðŸª¹"];function u(e){let{question:l,birds:s,difficulty:u}=e,[c,d]=(0,a.useState)(""),[f,h]=(0,a.useState)([]),[m,g]=(0,a.useState)(null),[p,x]=(0,a.useState)(""),[b,w]=(0,a.useState)(!1);function v(e){d(e.fullName),h([]),String(e.sabap2)===String(l.answer)?(g("correct"),x(i[Math.floor(Math.random()*i.length)])):(g("incorrect"),x(o[Math.floor(Math.random()*o.length)]))}(0,a.useEffect)(()=>{w(!1),d(""),h([]),g(null),x("")},[l]);let j=(0,a.useRef)(null);function y(){setTimeout(()=>{var e;console.log("Scrolling to suggestions"),null==(e=j.current)||e.scrollIntoView({behavior:"smooth",block:"center"})},300)}return(0,t.jsxs)("div",{className:"mb-4 flex flex-col items-center",children:[!b&&(0,t.jsx)(n.default,{src:"/loading.svg",alt:"Loading...",width:400,height:300,style:{height:"auto",width:"100%",maxWidth:"400px"},className:"animate-pulse"}),(0,t.jsx)("img",{src:l.image,alt:"Question",width:400,height:300,style:{height:"auto",width:"100%",maxWidth:"400px",display:b?"block":"none"},onLoad:()=>w(!0)}),(0,t.jsxs)("div",{className:"mt-4 w-full relative",style:{maxWidth:400},children:["beginner"==u&&(0,t.jsx)(r,{birds:s,currentQuestion:l,onMultipleChoiceChange:function(e){let t=s.find(t=>String(t.sabap2)===String(e));t&&v(t)}}),"advanced"==u&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"text",value:c,onChange:function(e){let t=e.target.value;d(t),0===t.length?h([]):(h(s.filter(e=>{let l=e.fullName.toLowerCase();return t.toLowerCase().trim().split(/\s+/).every(e=>l.includes(e))})),y()),g(null),x("")},onFocus:y,placeholder:"Type bird name...",className:"w-full px-3 py-2 border rounded"}),f.length>0&&(0,t.jsx)("ul",{ref:j,className:"w-full absolute left-0 border rounded shadow z-10 mt-1 max-h-40 overflow-y-auto  bg-white dark:bg-gray-800",children:f.map(e=>(0,t.jsx)("li",{className:"px-3 py-2 cursor-pointer hover:bg-blue-100",onClick:()=>v(e),children:e.fullName},e.fullName))})]}),"correct"===m&&(0,t.jsxs)("div",{className:"flex flex-col items-center mt-2 text-green-600 font-semibold",children:[(0,t.jsx)("span",{className:"mr-2",children:"âœ”ï¸"})," ",p]}),"incorrect"===m&&(0,t.jsxs)("div",{className:"flex flex-col items-center mt-2 text-red-600 font-semibold",children:[(0,t.jsx)("span",{className:"mr-2",children:"âŒ"})," ",p]})]})]})}function c(){var e,n;let r=(0,l.useRouter)(),{questions:i,birds:o}=(0,s.useCentralData)(),c=(0,l.useSearchParams)(),d=null!=(e=c.get("difficulty"))?e:"beginner",f=parseInt(null!=(n=c.get("count"))?n:"0",10),[h,m]=(0,a.useState)([]),[g,p]=(0,a.useState)(null),[x,b]=(0,a.useState)(!1),w=(0,a.useCallback)(()=>{if(0===h.length)return void r.push("/complete");let e=Math.floor(Math.random()*h.length);p(h[e]),m(t=>t.filter((t,l)=>l!==e))},[h,r]);(0,a.useEffect)(()=>{if(i){let e=[];for(;e.length<f;){let t=Math.floor(Math.random()*i.length),l=i[t];e.find(e=>e.answer===l.answer)||e.push(l)}m(e)}},[i,f]),(0,a.useEffect)(()=>{h.length>0&&null===g&&w()},[h,g,w]);let v=g&&(null==o?void 0:o.find(e=>String(e.sabap2)===String(g.answer)));(0,a.useEffect)(()=>{b(!1)},[g]);let j=g&&o;return(0,t.jsxs)("div",{className:"font-sans flex flex-col min-h-screen p-8 pb-20 sm:p-20",children:[j&&(0,t.jsxs)("main",{className:"flex flex-col gap-8 items-center",children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold",children:[h.length+1," Questions to go!"]}),(0,t.jsx)(u,{question:g,birds:o,difficulty:d}),x&&(0,t.jsxs)("div",{className:"mt-2 text-lg font-semibold text-blue-700",children:["Answer: ",(null==v?void 0:v.fullName)||(null==g?void 0:g.answer)]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",onClick:()=>b(!0),children:"View Answer"}),(0,t.jsx)("button",{className:"px-4 py-2 text-white rounded bg-blue-600 hover:bg-blue-700",onClick:w,children:"Next"})]})]}),(0,t.jsx)("footer",{className:"flex gap-[24px] flex-wrap items-center justify-center"})]})}}]);